<link rel="import" href="../../dam-template/tasks/nuxeo-dam-task-comments.html">
<!--
`nuxeo-task788-layout`
@group Nuxeo UI
@element nuxeo-task788-layout
-->
<dom-module id="nuxeo-task788-layout">
  <template>
    <style>
      h3 {
        margin-top:24px !important;
      }
    </style>
    <paper-textarea value="{{task.variables.comment}}" label="My Comment"></paper-textarea>

    <template is="dom-if" if="[[_hasComments(task)]]">
      <h3>Previous Comments</h3>
      <nuxeo-dam-task-comments task="[[task]]"></nuxeo-dam-task-comments>
    </template>

  </template>

  <script>
  Polymer({
    is: 'nuxeo-task788-layout',
    behaviors: [Nuxeo.LayoutBehavior],
    properties: {

      /**
         * @task var_Task788
         */
      task: {
        type: Object,
      },

      /**
         * @schema dublincore
         */
      document: {
        type: Object,
      }
    },

    _hasComments: function(task) {
      return task.variables.comments && task.variables.comments.length>0;
    }

  });
  </script>
</dom-module>
