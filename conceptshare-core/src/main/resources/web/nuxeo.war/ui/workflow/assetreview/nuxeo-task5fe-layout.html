<link rel="import" href="../../dam-template/tasks/nuxeo-dam-task-comments.html">
<link rel="import" href="../../dam-template/document-widgets/nuxeo-dam-annotation-viewer.html">
     <!--
`nuxeo-task5fe-layout`
@group Nuxeo UI
@element nuxeo-task5fe-layout
-->
<dom-module id="nuxeo-task5fe-layout">
  <template>
    <style>
      .title {
        margin-top:24px !important;
      }
    </style>

    <paper-textarea value="{{task.variables.comment}}" label="Comment"></paper-textarea>

    <template is="dom-if" if="[[_hasComments(task)]]">
      <h3 class="title">Previous Comments</h3>
      <nuxeo-dam-task-comments task="[[task]]"></nuxeo-dam-task-comments>
    </template>

  </template>

  <script>
  Polymer({
    is: 'nuxeo-task5fe-layout',
    behaviors: [Nuxeo.LayoutBehavior],
    properties: {

      /**
         * @task var_Task5fe
         */
      task: {
        type: Object,
      },

      /**
         * @schema dublincore
         */
      document: {
        type: Object,
      },

      _hasComments: function(task) {
        return task.variables.comments && task.variables.comments.length>0;
      }

    }
  });
  </script>
</dom-module>
